<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据质量检测看板</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#64748b'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '2px',
                        DEFAULT: '4px',
                        'md': '8px',
                        'lg': '12px',
                        'xl': '16px',
                        '2xl': '20px',
                        '3xl': '24px',
                        'full': '9999px',
                        'button': '4px'
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
    <style>
        body {
            min-height: 1024px;
            background-color: #f8fafc;
        }
        .dashboard-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .stat-card {
            transition: all 0.3s;
        }
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
<div class="w-[1440px] mx-auto px-8 py-6">
    <header class="flex justify-between items-center mb-8">
        <h1 class="text-2xl font-bold text-gray-800">数据质量检测看板</h1>
        <div class="flex gap-4">
            <div class="flex items-center gap-2 bg-white rounded-button px-4 py-2 border border-gray-200">
                <i class="fas fa-calendar text-gray-400"></i>
                <span class="text-sm text-gray-600">最近 30 天</span>
            </div>
            <button class="flex items-center gap-2 bg-primary text-white px-4 py-2 !rounded-button hover:bg-primary/90">
                <i class="fas fa-sync-alt"></i>
                <span class="whitespace-nowrap">刷新数据</span>
            </button>
        </div>
    </header>

    <div class="grid grid-cols-4 gap-6 mb-8">
        <div class="dashboard-card stat-card p-6">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-sm text-gray-500 mb-2">检测规则总数</p>
                    <h3 class="text-3xl font-bold text-gray-800">1,284</h3>
                </div>
                <div class="w-10 h-10 flex items-center justify-center bg-blue-100 rounded-lg">
                    <i class="fas fa-list text-primary"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center text-sm">
                    <span class="text-green-500 flex items-center">
                        <i class="fas fa-arrow-up mr-1"></i>
                        12.5%
                    </span>
                <span class="text-gray-400 ml-2">较上月</span>
            </div>
        </div>

        <div class="dashboard-card stat-card p-6">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-sm text-gray-500 mb-2">累计发现问题</p>
                    <h3 class="text-3xl font-bold text-gray-800">15,673</h3>
                </div>
                <div class="w-10 h-10 flex items-center justify-center bg-red-100 rounded-lg">
                    <i class="fas fa-exclamation-circle text-red-500"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center text-sm">
                    <span class="text-red-500 flex items-center">
                        <i class="fas fa-arrow-up mr-1"></i>
                        8.3%
                    </span>
                <span class="text-gray-400 ml-2">较上月</span>
            </div>
        </div>

        <div class="dashboard-card stat-card p-6">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-sm text-gray-500 mb-2">已解决问题</p>
                    <h3 class="text-3xl font-bold text-gray-800">12,458</h3>
                </div>
                <div class="w-10 h-10 flex items-center justify-center bg-green-100 rounded-lg">
                    <i class="fas fa-check-circle text-green-500"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center text-sm">
                    <span class="text-green-500 flex items-center">
                        <i class="fas fa-arrow-up mr-1"></i>
                        15.2%
                    </span>
                <span class="text-gray-400 ml-2">较上月</span>
            </div>
        </div>

        <div class="dashboard-card stat-card p-6">
            <div class="flex items-start justify-between">
                <div>
                    <p class="text-sm text-gray-500 mb-2">本月新增问题</p>
                    <h3 class="text-3xl font-bold text-gray-800">3,215</h3>
                </div>
                <div class="w-10 h-10 flex items-center justify-center bg-yellow-100 rounded-lg">
                    <i class="fas fa-plus-circle text-yellow-500"></i>
                </div>
            </div>
            <div class="mt-4 flex items-center text-sm">
                    <span class="text-red-500 flex items-center">
                        <i class="fas fa-arrow-up mr-1"></i>
                        5.8%
                    </span>
                <span class="text-gray-400 ml-2">较上月</span>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-2 gap-6 mb-8">
        <div class="dashboard-card p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-6">规则分类统计</h3>
            <div id="ruleTypeChart" style="width: 100%; height: 300px;"></div>
        </div>
        <div class="dashboard-card p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-6">问题解决趋势</h3>
            <div id="trendChart" style="width: 100%; height: 300px;"></div>
        </div>
    </div>

    <div class="grid grid-cols-2 gap-6 mb-8">
        <div class="dashboard-card p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-6">系统问题分布</h3>
            <div id="systemChart" style="width: 100%; height: 300px;"></div>
        </div>
        <div class="dashboard-card p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-6">部门问题密度</h3>
            <div id="departmentChart" style="width: 100%; height: 300px;"></div>
        </div>
    </div>

    <div class="dashboard-card p-6">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-lg font-semibold text-gray-800">规则详情列表</h3>
            <div class="flex gap-4">
                <div class="relative">
                    <input type="text" placeholder="搜索规则名称" class="pl-10 pr-4 py-2 border border-gray-200 rounded-button text-sm w-64">
                    <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                </div>
                <button class="flex items-center gap-2 bg-white border border-gray-200 px-4 py-2 !rounded-button hover:bg-gray-50">
                    <i class="fas fa-download text-gray-600"></i>
                    <span class="whitespace-nowrap text-gray-600">导出数据</span>
                </button>
            </div>
        </div>
        <table class="w-full">
            <thead>
            <tr class="border-b border-gray-200">
                <th class="text-left py-4 px-4 text-sm font-medium text-gray-600">规则名称</th>
                <th class="text-left py-4 px-4 text-sm font-medium text-gray-600">涉及系统</th>
                <th class="text-left py-4 px-4 text-sm font-medium text-gray-600">责任部门</th>
                <th class="text-center py-4 px-4 text-sm font-medium text-gray-600">发现问题数</th>
                <th class="text-center py-4 px-4 text-sm font-medium text-gray-600">解决状态</th>
                <th class="text-left py-4 px-4 text-sm font-medium text-gray-600">最近更新</th>
            </tr>
            </thead>
            <tbody>
            <tr class="border-b border-gray-100 hover:bg-gray-50">
                <td class="py-4 px-4">
                    <div class="flex items-center gap-3">
                        <span class="text-sm font-medium text-gray-800">数据完整性检查</span>
                    </div>
                </td>
                <td class="py-4 px-4">
                    <span class="text-sm text-gray-600">客户管理系统</span>
                </td>
                <td class="py-4 px-4">
                    <span class="text-sm text-gray-600">数据治理部</span>
                </td>
                <td class="py-4 px-4 text-center">
                    <span class="text-sm text-gray-600">1,245</span>
                </td>
                <td class="py-4 px-4">
                    <div class="flex justify-center">
                        <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-600">已解决</span>
                    </div>
                </td>
                <td class="py-4 px-4">
                    <span class="text-sm text-gray-600">2024-01-15 14:30</span>
                </td>
            </tr>
            <tr class="border-b border-gray-100 hover:bg-gray-50">
                <td class="py-4 px-4">
                    <div class="flex items-center gap-3">
                        <span class="text-sm font-medium text-gray-800">字段格式验证</span>
                    </div>
                </td>
                <td class="py-4 px-4">
                    <span class="text-sm text-gray-600">订单系统</span>
                </td>
                <td class="py-4 px-4">
                    <span class="text-sm text-gray-600">技术研发部</span>
                </td>
                <td class="py-4 px-4 text-center">
                    <span class="text-sm text-gray-600">856</span>
                </td>
                <td class="py-4 px-4">
                    <div class="flex justify-center">
                        <span class="px-3 py-1 text-xs rounded-full bg-yellow-100 text-yellow-600">处理中</span>
                    </div>
                </td>
                <td class="py-4 px-4">
                    <span class="text-sm text-gray-600">2024-01-15 10:15</span>
                </td>
            </tr>
            <tr class="border-b border-gray-100 hover:bg-gray-50">
                <td class="py-4 px-4">
                    <div class="flex items-center gap-3">
                        <span class="text-sm font-medium text-gray-800">数据一致性校验</span>
                    </div>
                </td>
                <td class="py-4 px-4">
                    <span class="text-sm text-gray-600">库存管理系统</span>
                </td>
                <td class="py-4 px-4">
                    <span class="text-sm text-gray-600">供应链管理部</span>
                </td>
                <td class="py-4 px-4 text-center">
                    <span class="text-sm text-gray-600">2,367</span>
                </td>
                <td class="py-4 px-4">
                    <div class="flex justify-center">
                        <span class="px-3 py-1 text-xs rounded-full bg-red-100 text-red-600">待处理</span>
                    </div>
                </td>
                <td class="py-4 px-4">
                    <span class="text-sm text-gray-600">2024-01-14 16:45</span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<script>
    const ruleTypeChart = echarts.init(document.getElementById('ruleTypeChart'));
    const trendChart = echarts.init(document.getElementById('trendChart'));
    const systemChart = echarts.init(document.getElementById('systemChart'));
    const departmentChart = echarts.init(document.getElementById('departmentChart'));
    ruleTypeChart.setOption({
        animation: false,
        tooltip: {
            trigger: 'item'
        },
        legend: {
            orient: 'vertical',
            right: '5%',
            top: 'center'
        },
        series: [{
            name: '规则类型',
            type: 'pie',
            radius: ['40%', '70%'],
            center: ['40%', '50%'],
            data: [
                { value: 485, name: '完整性规则' },
                { value: 325, name: '准确性规则' },
                { value: 234, name: '一致性规则' },
                { value: 156, name: '时效性规则' },
                { value: 84, name: '其他规则' }
            ]
        }]
    });

    trendChart.setOption({
        animation: false,
        tooltip: {
            trigger: 'axis'
        },
        legend: {
            data: ['发现问题数', '解决问题数']
        },
        xAxis: {
            type: 'category',
            data: ['1月1日', '1月2日', '1月3日', '1月4日', '1月5日', '1月6日', '1月7日']
        },
        yAxis: {
            type: 'value'
        },
        series: [{
            name: '发现问题数',
            type: 'line',
            data: [150, 230, 224, 218, 135, 147, 260]
        }, {
            name: '解决问题数',
            type: 'line',
            data: [120, 182, 191, 234, 190, 130, 220]
        }]
    });

    systemChart.setOption({
        animation: false,
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'shadow'
            }
        },
        legend: {
            data: ['待处理', '处理中', '已解决']
        },
        xAxis: {
            type: 'value'
        },
        yAxis: {
            type: 'category',
            data: ['客户管理系统', '订单系统', '库存系统', '财务系统', '人力系统']
        },
        series: [{
            name: '待处理',
            type: 'bar',
            stack: 'total',
            data: [320, 302, 301, 334, 390]
        }, {
            name: '处理中',
            type: 'bar',
            stack: 'total',
            data: [120, 132, 101, 134, 90]
        }, {
            name: '已解决',
            type: 'bar',
            stack: 'total',
            data: [220, 182, 191, 234, 290]
        }]
    });
    departmentChart.setOption({
        animation: false,
        tooltip: {
            position: 'top'
        },
        grid: {
            height: '70%',
            top: '10%'
        },
        xAxis: {
            type: 'category',
            data: ['周一', '周二', '周三', '周四', '周五'],
            splitArea: {
                show: true
            }
        },
        yAxis: {
            type: 'category',
            data: ['技术部', '运营部', '市场部', '销售部', '客服部'],
            splitArea: {
                show: true
            }
        },
        visualMap: {
            min: 0,
            max: 100,
            calculable: true,
            orient: 'horizontal',
            left: 'center',
            bottom: '0%'
        },
        series: [{
            name: '问题密度',
            type: 'heatmap',
            data: [
                [0, 0, 85], [0, 1, 75], [0, 2, 65], [0, 3, 45], [0, 4, 35],
                [1, 0, 55], [1, 1, 95], [1, 2, 85], [1, 3, 65], [1, 4, 45],
                [2, 0, 65], [2, 1, 85], [2, 2, 95], [2, 3, 75], [2, 4, 55],
                [3, 0, 45], [3, 1, 65], [3, 2, 85], [3, 3, 95], [3, 4, 75],
                [4, 0, 35], [4, 1, 45], [4, 2, 65], [4, 3, 85], [4, 4, 95]
            ],
            label: {
                show: true
            },
            emphasis: {
                itemStyle: {
                    shadowBlur: 10,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
            }
        }]
    });

    window.addEventListener('resize', function() {
        ruleTypeChart.resize();
        trendChart.resize();
        systemChart.resize();
        departmentChart.resize();
    });
</script>
</body>
</html>